<!--
Copyright (c) 2020 Nekokatt
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
-->
<!--
Copyright (c) 2020 Nekokatt
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
-->
<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>hikari.internal.ux API documentation</title>
<meta name="description" content="User-experience extensions and utilities." />
<meta property="og:title" content="hikari.internal.ux module documentation" />
<meta property="og:type" content="website" />
<meta property="og:image" content="https://hikari-py.github.io/hikari/logo.png" />
<meta property="og:description" content="A Discord Bot framework for modern Python and asyncio built on good intentions" />
<meta property="theme-color" content="#ff029a" />
<link rel="shortcut icon" type="image/png" href="https://hikari-py.github.io/hikari/logo.png"/>
<!--<script async src="https://cse.google.com/cse.js?cx=017837193012385208679:pey8ky8gdqw"></script>
<style>.gsc-control-cse {padding:0 !important;margin-top:1em}</style>-->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css" rel="stylesheet"/>
<style>
* {
scrollbar-color: #202324 #454a4d;
scroll-behavior: smooth;
}
img#logo {
border-radius: 15px;
width: 30px;
height: 30px;
margin-right: 0.5em;
}
small.smaller {
font-size: 0.75em;
}
body {
background-color: #181A1B;
color: #C9C5C0;
}
h1 {
margin-top: 3rem;
}
h2 {
margin-top: 1.75rem;
margin-bottom: 1em;
}
h3 {
margin-top: 1.25rem;
}
h4 {
margin-top: 1rem;
}
.nav-section {
margin-top: 2em;
}
.monospaced {
font-family: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}
a.sidebar-nav-pill,
a.sidebar-nav-pill:active,
a.sidebar-nav-pill:hover {
color: #BDB7AF;
}
.module-source > details > pre {
display: block;
overflow-x: auto;
overflow-y: auto;
max-height: 600px;
font-size: 0.8em;
}
a {
color: #DE4F91;
}
a:hover {
color: #64B1F2;
}
.jumbotron {
background-color: #232627;
}
.breadcrumb-item.inactive > a {
color: #d264d0 !important;
}
.breadcrumb-item.active > a {
color: #de4f91 !important;
}
.breadcrumb-item+.breadcrumb-item::before {
content: ".";
}
.module-breadcrumb {
padding-left: 0 !important;
background-color: #232627;
}
ul.nested {
margin-left: 1em;
}
h2#parameters::after {
margin-left: 2em;
}
dt {
margin-left: 2em;
}
dd {
margin-left: 4em;
}
dl.no-nest > dt {
margin-left: 0em;
}
dl.no-nest > dd {
margin-left: 2em;
}
dl.root {
margin-bottom: 2em;
}
.definition {
display: block;
margin-bottom: 8em !important;
}
.definition .row {
display: block;
margin-bottom: 4em !important;
}
.definition h2 {
font-size: 1em;
font-weight: bolder;
}
.sep {
height: 2em;
}
code {
color: #DB61D9;
}
code .active {
color: #e83e8c;
}
code a {
color: #E94A93;
}
a.dotted:hover, abbr:hover {
text-decoration: underline #9E9689 dotted !important;
}
a.dotted, abbr {
text-decoration: none !important;
}
.gsc-search-box, .gsc-search-box-tools, .gsc-control-cse {
background: none !important;
border: none !important;
}
.gsc-search-button-v2, .gsc-search-button-v2:hover, .gsc-search-button-v2:focus {
color: var(--success) !important;
border-color: var(--success) !important;
background: none !important;
padding: 6px 32px !important;
font-size: inherit !important;
}
.gsc-search-button-v2 > svg {
fill: var(--success) !important;
}
.gsc-input-box {
border-radius: 3px;
}
.gsc-control-cse {
width: 300px !important;
margin-top: 0 !important;
}
.gsc-control-cse .gsc-control-cse-en {
margin-top: 0 !important;
}
.bg-dark {
background-color: #2C2F31 !important;
}
.text-muted {
color: #9E9689 !important;
}
.alert-primary {
color: #7CC3FF;
background-color: #262A2B;
border-color: #003B7B;
}
.alert-secondary {
color: #C2BCB4;
background-color: #282B2C;
border-color: #3B4042;
}
.alert-success {
color: #99E6AB;
background-color: #1A3E29;
border-color: #255A32;
}
.alert-info {
color: #8EE3F1;
background-color: #143B43;
border-color: #1E5961;
}
.alert-warning {
color: #FBD770;
background-color: #513E00;
border-color: #7B5C00;
}
.alert-danger {
color: rgb(225, 134, 143);
background-color: rgb(67, 12, 17);
border-color: rgb(104, 18, 27);
}
mark {
background-color: #333333;
border-radius: 0.1em;
color: #DB61D9;
}
</style>
<script async src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS_CHTML'></script>
</head>
<body>
<!-- body.mako -->
<nav id="main-nav" class="navbar navbar-dark navbar-expand-lg bg-dark">
<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
<span class="navbar-toggler-icon"/>
</button>
<a class="navbar-brand" href="https://github.com/hikari-py/hikari"><img class="d-inline-block align-top" src="https://hikari-py.github.io/hikari/logo.png" id="logo" alt="hikari logo" loading="lazy"/>Hikari <small>v2.0.0.dev92</small></a>
<div class="collapse navbar-collapse" id="navbarNavDropdown">
<ul class="navbar-nav mr-auto">
<li class="nav-item"><a class="nav-link" href="/hikari/index.html">Home</a></li>
<li class="nav-item active"><a class="nav-link" href="/hikari/hikari/index.html">Documentation</a></li>
<li class="nav-item"><a class="nav-link" href="https://github.com/hikari-py/hikari">GitHub</a></li>
<li class="nav-item"><a class="nav-link" href="https://pypi.org/project/hikari">PyPI</a></li>
<li class="nav-item"><a class="nav-link" href="https://discord.gg/Jx4cNGG">Discord Server</a></li>
</ul>
<form class="form-inline" >
<input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search" id="lunr-search"/>
<button class="btn btn-outline-success my-2 my-sm-0" type="submit">&gt;</button>
</form>
</div>
</nav>
<div class="jumbotron jumbotron-fluid">
<div class="container">
<h1 class="display-4"><code>
<nav aria-label="breadcrumb">
<ol class="breadcrumb module-breadcrumb">
<li class="breadcrumb-item inactive"><a title="hikari -- A sane Python framework for writing modern Discord bots …" href="../index.html"
>hikari</a></li>
<li class="breadcrumb-item inactive"><a title="hikari.internal -- Package containing internal utilities used within this API." href="index.html"
>internal</a></li>
<li class="breadcrumb-item active"><a href="#">ux</a></li>
</ol>
</nav>
</code></h1>
<p class="lead"><p>User-experience extensions and utilities.</p></p>
</div>
</div>
<div class="container-xl">
<div class="row">
<div class="d-md-none d-lg-block col-lg-5 col-xl-4">
<!--<nav class="nav" id="content-nav">-->
<h3>This module</h3>
<ul class="list-unstyled text-truncate">
<li class="text-truncate monospaced"><small class='text-muted'><em><abbr title='A function that returns a coroutine and must be awaited.'>async def</abbr></em></small> <a title="check_for_updates -- Perform a check for newer versions of the library, logging any found." href="#hikari.internal.ux.check_for_updates"
>check_for_updates</a></li>
<li class="text-truncate monospaced"><small class='text-muted'><em><abbr title='A standard Python function.'>def</abbr></em></small> <a title="init_logging -- Attempt to initialize logging for the user …" href="#hikari.internal.ux.init_logging"
>init_logging</a></li>
<li class="text-truncate monospaced"><small class='text-muted'><em><abbr title='A standard Python function.'>def</abbr></em></small> <a title="print_banner -- Print a banner of choice to `sys.stdout` …" href="#hikari.internal.ux.print_banner"
>print_banner</a></li>
<li class="text-truncate monospaced"><small class='text-muted'><em><abbr title='A standard Python function.'>def</abbr></em></small> <a title="supports_color -- Return `builtins.True` if the terminal device supports color output …" href="#hikari.internal.ux.supports_color"
>supports_color</a></li>
</ul>
<ul class="list-unstyled text-truncate">
<li class="monospaced">
<small class='text-muted'><em><abbr title='A standard Python type.'>class</abbr></em></small> <a title="HikariVersion -- Hikari-compatible strict version." href="#hikari.internal.ux.HikariVersion"
>HikariVersion</a>
<ul class="list-unstyled nested text-truncate">
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A standard Python function.'>def</abbr></em></small> <a title="parse -- " href="#hikari.internal.ux.HikariVersion.parse"
>parse</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A standard variable'>var</abbr></em></small> <a title="version_re -- " href="#hikari.internal.ux.HikariVersion.version_re"
>version_re</a>
</li>
<br />
</ul>
</li>
</ul>
<!--</nav>-->
</div>
<div class="col-xs-12 col-lg-7 col-xl-8">
<div class="row">
<div class="col module-source">
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/c8d88c83b926f0874158593f8bc7ba0f580a97d8/hikari/internal/ux.py#L0-L322" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python"># -*- coding: utf-8 -*-
# cython: language_level=3
# Copyright (c) 2020 Nekokatt
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the &#34;Software&#34;), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in all
# copies or substantial portions of the Software.
#
# THE SOFTWARE IS PROVIDED &#34;AS IS&#34;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
# AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
# LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
# OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
# SOFTWARE.
&#34;&#34;&#34;User-experience extensions and utilities.&#34;&#34;&#34;
from __future__ import annotations

__all__: typing.List[str] = [&#34;init_logging&#34;, &#34;print_banner&#34;, &#34;supports_color&#34;, &#34;HikariVersion&#34;, &#34;check_for_updates&#34;]

import distutils.version
import importlib.resources
import logging.config
import os
import platform
import re
import string
import sys
import time
import typing

import colorlog  # type: ignore[import]

from hikari import _about as about
from hikari.internal import net

if typing.TYPE_CHECKING:
    from hikari import config

# While this is discouraged for most purposes in libraries, this enables us to
# filter out the vast majority of clutter that most network logger calls
# create. This also has a very minute performance improvement for trace logging
# calls, as we have to use `logger.log` directly to utilise this properly.
# We append `_HIKARI` to the name to keep it unique from any other logging
# levels that may be in use.

TRACE: typing.Final[int] = logging.DEBUG - 5
logging.addLevelName(TRACE, &#34;TRACE_HIKARI&#34;)

_LOGGER: typing.Final[logging.Logger] = logging.getLogger(&#34;hikari.ux&#34;)


def init_logging(
    flavor: typing.Union[None, str, int, typing.Dict[str, typing.Any]],
    allow_color: bool,
    force_color: bool,
) -&gt; None:
    &#34;&#34;&#34;Attempt to initialize logging for the user.

    If any handlers already exist, this is ignored entirely. This ensures the
    user can use any existing logging configuration without us interfering.
    You can manually disable this by passing `None` as the `flavor` parameter.

    Parameters
    ----------
    flavor : typing.Optional[builtins.None, builtins.str, typing.Dict[builtins.str, typing.Any]]
        The hint for configuring logging.

        This can be `builtins.None` to not enable logging automatically.

        If you pass a `builtins.str` or a `builtins.int`, it is interpreted as
        the global logging level to use, and should match one of `&#34;DEBUG&#34;`,
        `&#34;INFO&#34;`, `&#34;WARNING&#34;`, `&#34;ERROR&#34;` or `&#34;CRITICAL&#34;`, if `builtins.str`.
        The configuration will be set up to use a `colorlog` coloured logger,
        and to use a sane logging format strategy. The output will be written
        to `sys.stderr` using this configuration.

        If you pass a `builtins.dict`, it is treated as the mapping to pass to
        `logging.config.dictConfig`.
    allow_color : builtins.bool
        If `builtins.False`, no colour is allowed. If `builtins.True`, the
        output device must be supported for this to return `builtins.True`.
    force_color : builtins.bool
        If `builtins.True`, return `builtins.True` always, otherwise only
        return `builtins.True` if the device supports colour output and the
        `allow_color` flag is not `builtins.False`.
    &#34;&#34;&#34;
    # One observation that has been repeatedly made from seeing beginners writing
    # bots in Python is that most people seem to have no idea what logging is or
    # why it is beneficial to use it. This results in them spending large amounts
    # of time scratching their head wondering why something is not working, staring
    # at a blank screen. If they had enabled logging, they would have immediately
    # known where the issue was. This usually ends up with support servers on Discord
    # being spammed with the same basic questions again and again and again...
    #
    # As part of Hikari&#39;s set of opinionated defaults, we turn logging on with
    # a desirable format that is coloured in an effort to draw the user&#39;s attention
    # to it, rather than encouraging them to ignore it.

    if len(logging.root.handlers) != 0 or flavor is None:
        # Skip, the user is using something else to configure their logging.
        return

    if isinstance(flavor, dict):
        logging.config.dictConfig(flavor)
        return

    # Apparently this makes logging even more efficient!
    logging.logThreads = False
    logging.logProcesses = False
    if supports_color(allow_color, force_color):
        colorlog.basicConfig(
            level=flavor,
            format=&#34;%(log_color)s%(bold)s%(levelname)-1.1s%(thin)s %(asctime)23.23s %(bold)s%(name)s: &#34;
            &#34;%(thin)s%(message)s%(reset)s&#34;,
            stream=sys.stderr,
        )
    else:
        logging.basicConfig(
            level=flavor,
            format=&#34;%(levelname)-1.1s %(asctime)23.23s %(name)s: %(message)s&#34;,
            stream=sys.stderr,
        )
        logging.captureWarnings(True)


def print_banner(package: typing.Optional[str], allow_color: bool, force_color: bool) -&gt; None:
    &#34;&#34;&#34;Print a banner of choice to `sys.stdout`.

    Inspired by Spring Boot, we display an ASCII logo on startup. This is styled
    to grab the user&#39;s attention, and contains info such as the library version,
    the Python interpreter, the OS, and links to our Discord server and
    documentation. Users can override this by placing a `banner.txt&#39; in some
    package and referencing it in this call.

    Parameters
    ----------
    package : typing.Optional[builtins.str]
        The package to find the `banner.txt` in, or `builtins.None` if no
        banner should be shown.

        !!! note
            The `banner.txt` must be in the root folder of the package.
    allow_color : builtins.bool
        If `builtins.False`, no colour is allowed. If `builtins.True`, the
        output device must be supported for this to return `builtins.True`.
    force_color : builtins.bool
        If `builtins.True`, return `builtins.True` always, otherwise only
        return `builtins.True` if the device supports colour output and the
        `allow_color` flag is not `builtins.False`.
    &#34;&#34;&#34;
    if package is None:
        return

    raw_banner = importlib.resources.read_text(package, &#34;banner.txt&#34;)

    system_bits = (
        platform.machine(),
        platform.system(),
        platform.release(),
    )
    filtered_system_bits = (s.strip() for s in system_bits if s.strip())

    args = {
        # Hikari stuff.
        &#34;hikari_version&#34;: about.__version__,
        &#34;hikari_git_sha1&#34;: about.__git_sha1__[:8],
        &#34;hikari_copyright&#34;: about.__copyright__,
        &#34;hikari_license&#34;: about.__license__,
        &#34;hikari_install_location&#34;: os.path.abspath(os.path.dirname(about.__file__)),
        &#34;hikari_documentation_url&#34;: about.__docs__,
        &#34;hikari_discord_invite&#34;: about.__discord_invite__,
        &#34;hikari_source_url&#34;: about.__url__,
        # Python stuff.
        &#34;python_implementation&#34;: platform.python_implementation(),
        &#34;python_version&#34;: platform.python_version(),
        # Platform specific stuff I might remove later.
        &#34;system_description&#34;: &#34; &#34;.join(filtered_system_bits),
    }

    if supports_color(allow_color, force_color):
        args.update(colorlog.escape_codes)
    else:
        for code in colorlog.escape_codes:
            args[code] = &#34;&#34;

    sys.stdout.write(string.Template(raw_banner).safe_substitute(args))
    # Give the stream some time to flush
    sys.stdout.flush()
    time.sleep(0.125)


def supports_color(allow_color: bool, force_color: bool) -&gt; bool:
    &#34;&#34;&#34;Return `builtins.True` if the terminal device supports color output.

    Parameters
    ----------
    allow_color : builtins.bool
        If `builtins.False`, no color is allowed. If `builtins.True`, the
        output device must be supported for this to return `builtins.True`.
    force_color : builtins.bool
        If `builtins.True`, return `builtins.True` always, otherwise only
        return `builtins.True` if the device supports color output and the
        `allow_color` flag is not `builtins.False`.

    Returns
    -------
    builtins.bool
        `builtins.True` if color is allowed on the output terminal, or
        `builtins.False` otherwise.
    &#34;&#34;&#34;
    if not allow_color:
        return False

    # isatty is not always implemented, https://code.djangoproject.com/ticket/6223
    is_a_tty = hasattr(sys.stdout, &#34;isatty&#34;) and sys.stdout.isatty()

    if os.getenv(&#34;CLICOLOR_FORCE&#34;, &#34;0&#34;) != &#34;0&#34; or force_color:
        # https://bixense.com/clicolors/
        return True
    elif os.getenv(&#34;CLICOLOR&#34;, &#34;0&#34;) != &#34;0&#34; and is_a_tty:
        # https://bixense.com/clicolors/
        return True
    elif os.getenv(&#34;COLORTERM&#34;, &#34;&#34;).casefold() in (&#34;truecolor&#34;, &#34;24bit&#34;):
        # Seems to be used by Gnome Terminal, and Tmpod will beat me if I don&#39;t add it.
        # https://gist.github.com/XVilka/8346728#true-color-detection
        return True

    plat = sys.platform
    color_support = False

    if plat != &#34;Pocket PC&#34;:
        if plat == &#34;win32&#34;:
            color_support |= os.getenv(&#34;TERM_PROGRAM&#34;, None) in (&#34;mintty&#34;, &#34;Terminus&#34;)
            color_support |= &#34;ANSICON&#34; in os.environ
            color_support &amp;= is_a_tty
        else:
            color_support = is_a_tty

        color_support |= bool(os.getenv(&#34;PYCHARM_HOSTED&#34;, &#34;&#34;))

    return color_support


class HikariVersion(distutils.version.StrictVersion):
    &#34;&#34;&#34;Hikari-compatible strict version.&#34;&#34;&#34;

    # Not typed correctly on distutils, so overriding it raises a false positive...
    version_re: typing.ClassVar[typing.Final[re.Pattern[str]]] = re.compile(  # type: ignore[misc]
        r&#34;^(\d+)\.(\d+)(\.(\d+))?(\.[a-z]+)?(\d+)?$&#34;, re.I
    )

    # Parse doesnt set the prerelease correctly, so we overwrite it to fix it.
    #
    # Not typed correctly on distutils, so overriding it raises a false positive...
    def parse(self, vstring: str) -&gt; None:  # type: ignore[override]
        match = self.version_re.match(vstring)
        if not match:
            raise ValueError(f&#34;invalid version number &#39;{vstring}&#39;&#34;)

        (major, minor, patch, prerelease, prerelease_num) = match.group(1, 2, 4, 5, 6)

        self.version = (int(major), int(minor), int(patch) if patch else 0)

        if prerelease:
            self.prerelease = (prerelease, int(prerelease_num))
        else:
            self.prerelease = None


async def check_for_updates(
    http_settings: config.HTTPSettings,
    proxy_settings: config.ProxySettings,
) -&gt; None:
    &#34;&#34;&#34;Perform a check for newer versions of the library, logging any found.&#34;&#34;&#34;
    if about.__git_sha1__.casefold() == &#34;head&#34;:
        # We are not in a PyPI release, return
        return

    try:
        async with net.create_client_session(
            connector=net.create_tcp_connector(dns_cache=False, limit=1, http_settings=http_settings),
            connector_owner=True,
            http_settings=http_settings,
            raise_for_status=True,
            trust_env=proxy_settings.trust_env,
        ) as cs:
            async with cs.get(
                &#34;https://pypi.org/pypi/hikari/json&#34;,
                allow_redirects=http_settings.max_redirects is not None,
                max_redirects=http_settings.max_redirects if http_settings.max_redirects is not None else 10,
                proxy=proxy_settings.url,
                proxy_headers=proxy_settings.all_headers,
            ) as resp:
                data = await resp.json()

        this_version = HikariVersion(about.__version__)
        is_dev = this_version.prerelease is not None
        newer_releases: typing.List[HikariVersion] = []

        for release_string, artifacts in data[&#34;releases&#34;].items():
            if not all(artifact[&#34;yanked&#34;] for artifact in artifacts):
                v = HikariVersion(release_string)
                if v.prerelease is not None and not is_dev:
                    # Don&#39;t encourage the user to upgrade from a stable to a dev release...
                    continue

                if v.version == this_version.version:
                    continue

                if v &gt; this_version:
                    newer_releases.append(v)
        if newer_releases:
            newest = max(newer_releases)
            _LOGGER.info(&#34;A newer version of hikari is available, consider upgrading to %s&#34;, newest)
    except Exception as ex:
        _LOGGER.debug(&#34;Failed to fetch hikari version details&#34;, exc_info=ex)</code></pre>
</details>
</div>
</div>
<h2 id="functions-heading">Functions</h2>
<section class="definition">
<dl class="no-nest root">
<dt>
<pre><code id="hikari.internal.ux.check_for_updates" class="hljs python"><abbr title='A function that returns a coroutine and must be awaited.'>async def</abbr> <a title="check_for_updates" href="#hikari.internal.ux.check_for_updates" id="hikari.internal.ux.check_for_updates">check_for_updates</a>(
    http_settings: <a href='../config.html#hikari.config.HTTPSettings'>config.HTTPSettings</a>,
    proxy_settings: <a href='../config.html#hikari.config.ProxySettings'>config.ProxySettings</a>,
) -> <a href='https://docs.python.org/3/library/constants.html#None'>None</a>: ...</code></pre>
</dt>
<dd>
<p>Perform a check for newer versions of the library, logging any found.</p>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/c8d88c83b926f0874158593f8bc7ba0f580a97d8/hikari/internal/ux.py#L277-L323" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">async def check_for_updates(
    http_settings: config.HTTPSettings,
    proxy_settings: config.ProxySettings,
) -&gt; None:
    &#34;&#34;&#34;Perform a check for newer versions of the library, logging any found.&#34;&#34;&#34;
    if about.__git_sha1__.casefold() == &#34;head&#34;:
        # We are not in a PyPI release, return
        return

    try:
        async with net.create_client_session(
            connector=net.create_tcp_connector(dns_cache=False, limit=1, http_settings=http_settings),
            connector_owner=True,
            http_settings=http_settings,
            raise_for_status=True,
            trust_env=proxy_settings.trust_env,
        ) as cs:
            async with cs.get(
                &#34;https://pypi.org/pypi/hikari/json&#34;,
                allow_redirects=http_settings.max_redirects is not None,
                max_redirects=http_settings.max_redirects if http_settings.max_redirects is not None else 10,
                proxy=proxy_settings.url,
                proxy_headers=proxy_settings.all_headers,
            ) as resp:
                data = await resp.json()

        this_version = HikariVersion(about.__version__)
        is_dev = this_version.prerelease is not None
        newer_releases: typing.List[HikariVersion] = []

        for release_string, artifacts in data[&#34;releases&#34;].items():
            if not all(artifact[&#34;yanked&#34;] for artifact in artifacts):
                v = HikariVersion(release_string)
                if v.prerelease is not None and not is_dev:
                    # Don&#39;t encourage the user to upgrade from a stable to a dev release...
                    continue

                if v.version == this_version.version:
                    continue

                if v &gt; this_version:
                    newer_releases.append(v)
        if newer_releases:
            newest = max(newer_releases)
            _LOGGER.info(&#34;A newer version of hikari is available, consider upgrading to %s&#34;, newest)
    except Exception as ex:
        _LOGGER.debug(&#34;Failed to fetch hikari version details&#34;, exc_info=ex)</code></pre>
</details>
</dd>
<div class="sep"></div>
<dt>
<pre><code id="hikari.internal.ux.init_logging" class="hljs python"><abbr title='A standard Python function.'>def</abbr> <a title="init_logging" href="#hikari.internal.ux.init_logging" id="hikari.internal.ux.init_logging">init_logging</a>(
    flavor: <a href='https://docs.python.org/3/library/typing.html#typing.Union'>Union</a>[<a href='https://docs.python.org/3/library/constants.html#None'>None</a>, <a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a>, <a href='https://docs.python.org/3/library/functions.html#int'>int</a>, <a href='https://docs.python.org/3/library/typing.html#typing.Dict'>Dict</a>[<a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a>, <a href='https://docs.python.org/3/library/typing.html#typing.Any'>Any</a>]],
    allow_color: <a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>,
    force_color: <a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>,
) -> None: ...</code></pre>
</dt>
<dd>
<p>Attempt to initialize logging for the user.</p>
<p>If any handlers already exist, this is ignored entirely. This ensures the
user can use any existing logging configuration without us interfering.
You can manually disable this by passing <code><a href='https://docs.python.org/3/library/constants.html#None'>None</a></code> as the <code>flavor</code> parameter.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>flavor</code></strong> :&ensp;<code>typing.Optional[builtins.None, builtins.str, typing.Dict[builtins.str, typing.Any]]</code></dt>
<dd>
<p>The hint for configuring logging.</p>
<p>This can be <code><a href='https://docs.python.org/3/library/constants.html#None'>None</a></code> to not enable logging automatically.</p>
<p>If you pass a <code><a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a></code> or a <code><a href='https://docs.python.org/3/library/functions.html#int'>int</a></code>, it is interpreted as
the global logging level to use, and should match one of <code>"DEBUG"</code>,
<code>"INFO"</code>, <code>"WARNING"</code>, <code>"ERROR"</code> or <code>"CRITICAL"</code>, if <code><a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a></code>.
The configuration will be set up to use a <code>colorlog</code> coloured logger,
and to use a sane logging format strategy. The output will be written
to <code><a href='https://docs.python.org/3/library/sys.html#sys.stderr'>sys.stderr</a></code> using this configuration.</p>
<p>If you pass a <code><a href='https://docs.python.org/3/library/stdtypes.html#dict'>dict</a></code>, it is treated as the mapping to pass to
<code><a href='https://docs.python.org/3/library/logging.config.html#logging.config.dictConfig'>logging.config.dictConfig</a></code>.</p>
</dd>
<dt><strong><code>allow_color</code></strong> :&ensp;<code><a href='https://docs.python.org/3/library/functions.html#bool'>bool</a></code></dt>
<dd>If <code><a href='https://docs.python.org/3/library/constants.html#False'>False</a></code>, no colour is allowed. If <code><a href='https://docs.python.org/3/library/constants.html#True'>True</a></code>, the
output device must be supported for this to return <code><a href='https://docs.python.org/3/library/constants.html#True'>True</a></code>.</dd>
<dt><strong><code>force_color</code></strong> :&ensp;<code><a href='https://docs.python.org/3/library/functions.html#bool'>bool</a></code></dt>
<dd>If <code><a href='https://docs.python.org/3/library/constants.html#True'>True</a></code>, return <code><a href='https://docs.python.org/3/library/constants.html#True'>True</a></code> always, otherwise only
return <code><a href='https://docs.python.org/3/library/constants.html#True'>True</a></code> if the device supports colour output and the
<code>allow_color</code> flag is not <code><a href='https://docs.python.org/3/library/constants.html#False'>False</a></code>.</dd>
</dl>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/c8d88c83b926f0874158593f8bc7ba0f580a97d8/hikari/internal/ux.py#L59-L130" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">def init_logging(
    flavor: typing.Union[None, str, int, typing.Dict[str, typing.Any]],
    allow_color: bool,
    force_color: bool,
) -&gt; None:
    &#34;&#34;&#34;Attempt to initialize logging for the user.

    If any handlers already exist, this is ignored entirely. This ensures the
    user can use any existing logging configuration without us interfering.
    You can manually disable this by passing `None` as the `flavor` parameter.

    Parameters
    ----------
    flavor : typing.Optional[builtins.None, builtins.str, typing.Dict[builtins.str, typing.Any]]
        The hint for configuring logging.

        This can be `builtins.None` to not enable logging automatically.

        If you pass a `builtins.str` or a `builtins.int`, it is interpreted as
        the global logging level to use, and should match one of `&#34;DEBUG&#34;`,
        `&#34;INFO&#34;`, `&#34;WARNING&#34;`, `&#34;ERROR&#34;` or `&#34;CRITICAL&#34;`, if `builtins.str`.
        The configuration will be set up to use a `colorlog` coloured logger,
        and to use a sane logging format strategy. The output will be written
        to `sys.stderr` using this configuration.

        If you pass a `builtins.dict`, it is treated as the mapping to pass to
        `logging.config.dictConfig`.
    allow_color : builtins.bool
        If `builtins.False`, no colour is allowed. If `builtins.True`, the
        output device must be supported for this to return `builtins.True`.
    force_color : builtins.bool
        If `builtins.True`, return `builtins.True` always, otherwise only
        return `builtins.True` if the device supports colour output and the
        `allow_color` flag is not `builtins.False`.
    &#34;&#34;&#34;
    # One observation that has been repeatedly made from seeing beginners writing
    # bots in Python is that most people seem to have no idea what logging is or
    # why it is beneficial to use it. This results in them spending large amounts
    # of time scratching their head wondering why something is not working, staring
    # at a blank screen. If they had enabled logging, they would have immediately
    # known where the issue was. This usually ends up with support servers on Discord
    # being spammed with the same basic questions again and again and again...
    #
    # As part of Hikari&#39;s set of opinionated defaults, we turn logging on with
    # a desirable format that is coloured in an effort to draw the user&#39;s attention
    # to it, rather than encouraging them to ignore it.

    if len(logging.root.handlers) != 0 or flavor is None:
        # Skip, the user is using something else to configure their logging.
        return

    if isinstance(flavor, dict):
        logging.config.dictConfig(flavor)
        return

    # Apparently this makes logging even more efficient!
    logging.logThreads = False
    logging.logProcesses = False
    if supports_color(allow_color, force_color):
        colorlog.basicConfig(
            level=flavor,
            format=&#34;%(log_color)s%(bold)s%(levelname)-1.1s%(thin)s %(asctime)23.23s %(bold)s%(name)s: &#34;
            &#34;%(thin)s%(message)s%(reset)s&#34;,
            stream=sys.stderr,
        )
    else:
        logging.basicConfig(
            level=flavor,
            format=&#34;%(levelname)-1.1s %(asctime)23.23s %(name)s: %(message)s&#34;,
            stream=sys.stderr,
        )
        logging.captureWarnings(True)</code></pre>
</details>
</dd>
<div class="sep"></div>
<dt>
<pre><code id="hikari.internal.ux.print_banner" class="hljs python"><abbr title='A standard Python function.'>def</abbr> <a title="print_banner" href="#hikari.internal.ux.print_banner" id="hikari.internal.ux.print_banner">print_banner</a>(
    package: <a href='https://docs.python.org/3/library/typing.html#typing.Optional'>Optional</a>[<a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a>],
    allow_color: <a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>,
    force_color: <a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>,
) -> None: ...</code></pre>
</dt>
<dd>
<p>Print a banner of choice to <code><a href='https://docs.python.org/3/library/sys.html#sys.stdout'>sys.stdout</a></code>.</p>
<p>Inspired by Spring Boot, we display an ASCII logo on startup. This is styled
to grab the user's attention, and contains info such as the library version,
the Python interpreter, the OS, and links to our Discord server and
documentation. Users can override this by placing a `banner.txt' in some
package and referencing it in this call.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>package</code></strong> :&ensp;<code><a href='https://docs.python.org/3/library/typing.html#typing.Optional'>Optional</a>[<a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a>]</code></dt>
<dd>
<p>The package to find the <code>banner.txt</code> in, or <code><a href='https://docs.python.org/3/library/constants.html#None'>None</a></code> if no
banner should be shown.</p>
<div class="alert alert-success">
<p class="admonition-title">Note</p>
<p>The <code>banner.txt</code> must be in the root folder of the package.</p>
</div>
</dd>
<dt><strong><code>allow_color</code></strong> :&ensp;<code><a href='https://docs.python.org/3/library/functions.html#bool'>bool</a></code></dt>
<dd>If <code><a href='https://docs.python.org/3/library/constants.html#False'>False</a></code>, no colour is allowed. If <code><a href='https://docs.python.org/3/library/constants.html#True'>True</a></code>, the
output device must be supported for this to return <code><a href='https://docs.python.org/3/library/constants.html#True'>True</a></code>.</dd>
<dt><strong><code>force_color</code></strong> :&ensp;<code><a href='https://docs.python.org/3/library/functions.html#bool'>bool</a></code></dt>
<dd>If <code><a href='https://docs.python.org/3/library/constants.html#True'>True</a></code>, return <code><a href='https://docs.python.org/3/library/constants.html#True'>True</a></code> always, otherwise only
return <code><a href='https://docs.python.org/3/library/constants.html#True'>True</a></code> if the device supports colour output and the
<code>allow_color</code> flag is not <code><a href='https://docs.python.org/3/library/constants.html#False'>False</a></code>.</dd>
</dl>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/c8d88c83b926f0874158593f8bc7ba0f580a97d8/hikari/internal/ux.py#L133-L196" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">def print_banner(package: typing.Optional[str], allow_color: bool, force_color: bool) -&gt; None:
    &#34;&#34;&#34;Print a banner of choice to `sys.stdout`.

    Inspired by Spring Boot, we display an ASCII logo on startup. This is styled
    to grab the user&#39;s attention, and contains info such as the library version,
    the Python interpreter, the OS, and links to our Discord server and
    documentation. Users can override this by placing a `banner.txt&#39; in some
    package and referencing it in this call.

    Parameters
    ----------
    package : typing.Optional[builtins.str]
        The package to find the `banner.txt` in, or `builtins.None` if no
        banner should be shown.

        !!! note
            The `banner.txt` must be in the root folder of the package.
    allow_color : builtins.bool
        If `builtins.False`, no colour is allowed. If `builtins.True`, the
        output device must be supported for this to return `builtins.True`.
    force_color : builtins.bool
        If `builtins.True`, return `builtins.True` always, otherwise only
        return `builtins.True` if the device supports colour output and the
        `allow_color` flag is not `builtins.False`.
    &#34;&#34;&#34;
    if package is None:
        return

    raw_banner = importlib.resources.read_text(package, &#34;banner.txt&#34;)

    system_bits = (
        platform.machine(),
        platform.system(),
        platform.release(),
    )
    filtered_system_bits = (s.strip() for s in system_bits if s.strip())

    args = {
        # Hikari stuff.
        &#34;hikari_version&#34;: about.__version__,
        &#34;hikari_git_sha1&#34;: about.__git_sha1__[:8],
        &#34;hikari_copyright&#34;: about.__copyright__,
        &#34;hikari_license&#34;: about.__license__,
        &#34;hikari_install_location&#34;: os.path.abspath(os.path.dirname(about.__file__)),
        &#34;hikari_documentation_url&#34;: about.__docs__,
        &#34;hikari_discord_invite&#34;: about.__discord_invite__,
        &#34;hikari_source_url&#34;: about.__url__,
        # Python stuff.
        &#34;python_implementation&#34;: platform.python_implementation(),
        &#34;python_version&#34;: platform.python_version(),
        # Platform specific stuff I might remove later.
        &#34;system_description&#34;: &#34; &#34;.join(filtered_system_bits),
    }

    if supports_color(allow_color, force_color):
        args.update(colorlog.escape_codes)
    else:
        for code in colorlog.escape_codes:
            args[code] = &#34;&#34;

    sys.stdout.write(string.Template(raw_banner).safe_substitute(args))
    # Give the stream some time to flush
    sys.stdout.flush()
    time.sleep(0.125)</code></pre>
</details>
</dd>
<div class="sep"></div>
<dt>
<pre><code id="hikari.internal.ux.supports_color" class="hljs python"><abbr title='A standard Python function.'>def</abbr> <a title="supports_color" href="#hikari.internal.ux.supports_color" id="hikari.internal.ux.supports_color">supports_color</a>(
    allow_color: <a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>,
    force_color: <a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>,
) -> <a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>: ...</code></pre>
</dt>
<dd>
<p>Return <code><a href='https://docs.python.org/3/library/constants.html#True'>True</a></code> if the terminal device supports color output.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>allow_color</code></strong> :&ensp;<code><a href='https://docs.python.org/3/library/functions.html#bool'>bool</a></code></dt>
<dd>If <code><a href='https://docs.python.org/3/library/constants.html#False'>False</a></code>, no color is allowed. If <code><a href='https://docs.python.org/3/library/constants.html#True'>True</a></code>, the
output device must be supported for this to return <code><a href='https://docs.python.org/3/library/constants.html#True'>True</a></code>.</dd>
<dt><strong><code>force_color</code></strong> :&ensp;<code><a href='https://docs.python.org/3/library/functions.html#bool'>bool</a></code></dt>
<dd>If <code><a href='https://docs.python.org/3/library/constants.html#True'>True</a></code>, return <code><a href='https://docs.python.org/3/library/constants.html#True'>True</a></code> always, otherwise only
return <code><a href='https://docs.python.org/3/library/constants.html#True'>True</a></code> if the device supports color output and the
<code>allow_color</code> flag is not <code><a href='https://docs.python.org/3/library/constants.html#False'>False</a></code>.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='https://docs.python.org/3/library/functions.html#bool'>bool</a></code></dt>
<dd><code><a href='https://docs.python.org/3/library/constants.html#True'>True</a></code> if color is allowed on the output terminal, or
<code><a href='https://docs.python.org/3/library/constants.html#False'>False</a></code> otherwise.</dd>
</dl>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/c8d88c83b926f0874158593f8bc7ba0f580a97d8/hikari/internal/ux.py#L199-L248" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">def supports_color(allow_color: bool, force_color: bool) -&gt; bool:
    &#34;&#34;&#34;Return `builtins.True` if the terminal device supports color output.

    Parameters
    ----------
    allow_color : builtins.bool
        If `builtins.False`, no color is allowed. If `builtins.True`, the
        output device must be supported for this to return `builtins.True`.
    force_color : builtins.bool
        If `builtins.True`, return `builtins.True` always, otherwise only
        return `builtins.True` if the device supports color output and the
        `allow_color` flag is not `builtins.False`.

    Returns
    -------
    builtins.bool
        `builtins.True` if color is allowed on the output terminal, or
        `builtins.False` otherwise.
    &#34;&#34;&#34;
    if not allow_color:
        return False

    # isatty is not always implemented, https://code.djangoproject.com/ticket/6223
    is_a_tty = hasattr(sys.stdout, &#34;isatty&#34;) and sys.stdout.isatty()

    if os.getenv(&#34;CLICOLOR_FORCE&#34;, &#34;0&#34;) != &#34;0&#34; or force_color:
        # https://bixense.com/clicolors/
        return True
    elif os.getenv(&#34;CLICOLOR&#34;, &#34;0&#34;) != &#34;0&#34; and is_a_tty:
        # https://bixense.com/clicolors/
        return True
    elif os.getenv(&#34;COLORTERM&#34;, &#34;&#34;).casefold() in (&#34;truecolor&#34;, &#34;24bit&#34;):
        # Seems to be used by Gnome Terminal, and Tmpod will beat me if I don&#39;t add it.
        # https://gist.github.com/XVilka/8346728#true-color-detection
        return True

    plat = sys.platform
    color_support = False

    if plat != &#34;Pocket PC&#34;:
        if plat == &#34;win32&#34;:
            color_support |= os.getenv(&#34;TERM_PROGRAM&#34;, None) in (&#34;mintty&#34;, &#34;Terminus&#34;)
            color_support |= &#34;ANSICON&#34; in os.environ
            color_support &amp;= is_a_tty
        else:
            color_support = is_a_tty

        color_support |= bool(os.getenv(&#34;PYCHARM_HOSTED&#34;, &#34;&#34;))

    return color_support</code></pre>
</details>
</dd>
<div class="sep"></div>
</dl>
</section>
<h2 id="class-heading">Classes</h2>
<section class="definition">
<dl class="no-nest root">
<dt>
<h4><small class='text-muted'><em><abbr title='A standard Python type.'>class</abbr></em></small> <a title="HikariVersion -- Hikari-compatible strict version." href="#hikari.internal.ux.HikariVersion"
>HikariVersion</a></h4>
</dt>
<dd>
<pre><code id="hikari.internal.ux.HikariVersion" class="hljs python"><abbr title='A standard Python type.'>class</abbr> HikariVersion (
    vstring=None,
): ...</code></pre>
<p>Hikari-compatible strict version.</p>
<div class="sep"></div>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/c8d88c83b926f0874158593f8bc7ba0f580a97d8/hikari/internal/ux.py#L251-L274" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">class HikariVersion(distutils.version.StrictVersion):
    &#34;&#34;&#34;Hikari-compatible strict version.&#34;&#34;&#34;

    # Not typed correctly on distutils, so overriding it raises a false positive...
    version_re: typing.ClassVar[typing.Final[re.Pattern[str]]] = re.compile(  # type: ignore[misc]
        r&#34;^(\d+)\.(\d+)(\.(\d+))?(\.[a-z]+)?(\d+)?$&#34;, re.I
    )

    # Parse doesnt set the prerelease correctly, so we overwrite it to fix it.
    #
    # Not typed correctly on distutils, so overriding it raises a false positive...
    def parse(self, vstring: str) -&gt; None:  # type: ignore[override]
        match = self.version_re.match(vstring)
        if not match:
            raise ValueError(f&#34;invalid version number &#39;{vstring}&#39;&#34;)

        (major, minor, patch, prerelease, prerelease_num) = match.group(1, 2, 4, 5, 6)

        self.version = (int(major), int(minor), int(patch) if patch else 0)

        if prerelease:
            self.prerelease = (prerelease, int(prerelease_num))
        else:
            self.prerelease = None</code></pre>
</details>
<div class="sep"></div>
<h5>Method resolution order</h5>
<dl>
<dt class="nested"><small class='text-muted'><em><abbr title='A standard Python type.'>class</abbr></em></small> <a title="HikariVersion -- Hikari-compatible strict version." href="#hikari.internal.ux.HikariVersion"
>HikariVersion</a></dt>
<dd class="nested"><em class="text-muted">That's this class!</em></dd>
<dt class="nested">distutils.version.StrictVersion</dt>
<dd class="nested"><p>Version numbering for anal retentives and software idealists.
Implements the standard interface for version number classes as
described above …</p></dd>
<dt class="nested">distutils.version.Version</dt>
<dd class="nested"><p>Abstract base class for version numbering classes.
Just provides
constructor (<strong>init</strong>) and reproducer (<strong>repr</strong>), because those
seem to be …</p></dd>
</dl>
<div class="sep"></div>
<h5>Variables and properties</h5>
<dl>
<dt>
<pre><code class="python"><small class='text-muted'><em><abbr title='A standard variable'>var</abbr></em></small> <a title="version_re -- " href="#hikari.internal.ux.HikariVersion.version_re" id="hikari.internal.ux.HikariVersion.version_re" >version_re</a> : <a href='https://docs.python.org/3/library/typing.html#typing.ClassVar'>ClassVar</a>[<a href='https://docs.python.org/3/library/typing.html#typing.Final'>Final</a>[re.Pattern[<a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a>]]]</code></pre>
</dt>
<dd></dd>
</dl>
<div class="sep"></div>
<h5>Methods</h5>
<dl>
<dt>
<pre><code id="hikari.internal.ux.HikariVersion.parse" class="hljs python"><abbr title='A standard Python function.'>def</abbr> <a title="parse" href="#hikari.internal.ux.HikariVersion.parse" id="hikari.internal.ux.HikariVersion.parse">parse</a>(
    vstring: <a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a>,
) -> None: ...</code></pre>
</dt>
<dd>
<p>None</p>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/c8d88c83b926f0874158593f8bc7ba0f580a97d8/hikari/internal/ux.py#L262-L274" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">def parse(self, vstring: str) -&gt; None:  # type: ignore[override]
    match = self.version_re.match(vstring)
    if not match:
        raise ValueError(f&#34;invalid version number &#39;{vstring}&#39;&#34;)

    (major, minor, patch, prerelease, prerelease_num) = match.group(1, 2, 4, 5, 6)

    self.version = (int(major), int(minor), int(patch) if patch else 0)

    if prerelease:
        self.prerelease = (prerelease, int(prerelease_num))
    else:
        self.prerelease = None</code></pre>
</details>
</dd>
<div class="sep"></div>
</dl>
<div class="sep"></div>
</dd>
</dl>
</section>
</div>
</div>
</div>
<!-- Search script and dependencies -->
<script>
const input = document.getElementById('lunr-search');
input.disabled = false;
input.form.addEventListener('submit', (ev) => {
ev.preventDefault();
const url = new URL(window.location);
url.searchParams.set('q', input.value);
history.replaceState({}, null, url.toString());
search(input.value);
});
const query = new URL(window.location).searchParams.get('q');
if (query)
search(query);
function search(query) {
const url = '../search.html#' + encodeURIComponent(query);
window.location.href = url;
};
</script>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
</body>
</html>